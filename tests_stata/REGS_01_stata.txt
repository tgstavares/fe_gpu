r; t=0.00 20:55:55

. *** FE
. // areg      ln_wage hours ttl_exp union tenure, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
. // reghdfe   ln_wage hours ttl_exp union tenure, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
. // reghdfejl ln_wage hours ttl_exp union tenure, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
. // *** 
. *ivregress 2sls ln_wage (hours=tenure) ttl_exp union, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
. 
. ivreghdfe      ln_wage (hours wks_work = tenure wks_ue) ttl_exp union, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
(MWFE estimator converged in 18 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on idcode and occ_code

Number of clusters (idcode) =     3994                Number of obs =    27026
Number of clusters (occ_code) =     13                F(  4,    12) =    10.50
                                                      Prob > F      =   0.0007
Total (centered) SS     =  1334.567799                Centered R2   =  -5.6750
Total (uncentered) SS   =  1334.567799                Uncentered R2 =  -5.6750
Residual SS             =  8908.270536                Root MSE      =    .5742

------------------------------------------------------------------------------
             |               Robust
     ln_wage | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       hours |   .0821367    .032574     2.52   0.027     .0111641    .1531093
    wks_work |  -.0006536   .0029042    -0.23   0.826    -.0069813    .0056741
     ttl_exp |  -.0129279   .0205421    -0.63   0.541    -.0576852    .0318294
       union |  -.0002338   .0643215    -0.00   0.997    -.1403783    .1399106
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):              2.177
                                                   Chi-sq(1) P-val =    0.1401
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):               13.764
                         (Kleibergen-Paap rk Wald F statistic):          2.455
Stock-Yogo weak ID test critical values: 10% maximal IV size              7.03
                                         15% maximal IV size              4.58
                                         20% maximal IV size              3.95
                                         25% maximal IV size              3.63
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         hours wks_work
Included instruments: ttl_exp union
Excluded instruments: tenure wks_ue
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
      idcode |      3994        3994           0    *|
    occ_code |        13          13           0    *|
        year |        12          12           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
r; t=1.77 20:55:56

. *ivreghdfe      ln_wage (hours = tenure) ttl_exp union, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
. *reghdfejl      ln_wage (hours = tenure) ttl_exp union, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
. *jlhdfe_alt     ln_wage (hours = tenure) ttl_exp union, absorb(idcode occ_code year) vce(cluster idcode occ_code year) method(cuda) threads(1)
>  outprefix(fem_out) display
. *ivreghdfe      ln_wage (hours = tenure) ttl_exp union, absorb(idcode occ_code year) vce(cluster idcode occ_code year)
. capture quietly log close
